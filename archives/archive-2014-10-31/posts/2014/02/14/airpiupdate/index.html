<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width = device-width">
<title>AirPi Update - A kit!</title>
<link rel="stylesheet" href="/theme/css/main.css">
<link href="https://pi.gate.ac.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Pi GATE — Sheffield Pi-Tronics Atom Feed"/>
<link rel="stylesheet" href="/theme/css/gatepage.css">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<!--[if IE]><script src="/theme/js/html5shiv-googlecode-com-html5.js"></script><![endif]-->
<!--[if lt IE 7]><style type="text/css" media="screen">
    body {
      behavior: url('/theme/images/menu/csshover.htc');
      font-size: 100%;
    }
    </style> <link rel="stylesheet" href="/theme/css/ie-menus.css"/><![endif]-->

<style type="text/css"> sup {font-size: 80%; position: relative; bottom: .8ex;} </style>


<script src="/theme/js/prototype-171-min.js"></script>
<script src="/theme/js/gatepage.js"></script>

<link rel="stylesheet" type="text/css" href="/theme/css/cssgrids-min.css">
<link rel="stylesheet" type="text/css" href="/theme/css/cssgrids-responsive-min.css">

</head>
<body id="index" class="home">
<div id="topBar">
<span id="topLogo">
<span id="piLogo"><a href="http://raspberrypi.org/"><img src="/theme/images/raspi-logo.png" alt="Raspberry Pi" border="0"
height="55" width="46"></a></span>
<span id="strapLine"><a href="/">Sheffield<br/>Pi-Tronics</a></span>
<span id="gateLogo"><a href="https://www.sheffield.ac.uk/dcs/"><img src="/theme/images/logo-usfd-113x55.jpg"
alt="The University of Sheffield" height="55" width="113"</a><a
href="https://gate.ac.uk/"><img src="/theme/images/logo-gate.png" alt="GATE" border="0"
height="55" width="132"></a></span>
</span>
<div class="horizontal menu">
<ul>
<li><img src="/theme/images/arrow-right.jpg" height="40" width="40"/></li>

<li><b><a href="#">Projects</a></b>

<ul>
<li><a href="/pages/basics.html">The Basics: an Introduction to Pi-Tronics</a></li>
<li><a href="/pages/mopi.html">Mobile Pi: Battery Packs and Power Supplies</a></li>
<li><a href="/pages/pibrush.html">PiBrush: Painting with the Pi and XLoBorg</a></li>
<li><a href="/pages/package.html">Packaging Software for the Pi</a></li>
<li><a href="/pages/hardware.html">Pi-Alikes: a Review of Single Board Computers</a></li>

<li><a href="/pages/legocases.html">LEGO Cases</a></li>
<li><a href="/pages/blinkip.html">Blink IP: Finding Your Address Without Login</a></li>
<li><a href="/pages/notipi.html">NotiPi: Sending SMS Messages, Tweets, Etc.</a></li>
<li><a href="/pages/piroomba.html">Roomba: a Pi on a Robot Vacuum Cleaner</a></li>
<li><a href="/pages/schools.html">The Pi in Schools, and the UK Curriculum</a></li>
</ul></li>
<li><b><a href="#">MoPi</a></b>
<ul>
<li><a href="/pages/mopi.html">Mobile Power for the Pi</a></li>
<li><a href="/pages/get-mopi.html">Buy MoPi</a></li>
<li><a href="/pages/images/mopi/quickstart/schematic6.png">MoPi Quick Start Guide</a></li>
<li><a href="/pages/mopi.html#userguide">MoPi User Guide</a></li>
</ul></li>


<li><a href="/pages/download.html">Download</a></li>

<li><a href="https://gate.ac.uk/g8/contact">Contact</a></li>
<li><a href="/pages/about.html">About</a></li>
</ul>
</div>

<div id="topLoginEtc">
<form name="searchForm" method="GET" action="https://www.google.com/search" class="inlineForm">
<label class="pageLink" for="as_q">Search:</label>
<input type="text" name="as_q" size="6" maxlength="255">
<input type="hidden" name="as_sitesearch" value="pi.gate.ac.uk">
</form>
</div>
</div>

<div id="header">
</div>

<div id="topSeparator"> </div>


<div id="mainContent">



<div class='yui3-g-r'>
<div id="leftColumn" class="yui3-u-1-2"> 
<section id="content" class="body">
<article>
<header>
<h1 class="entry-title">
<a href="/posts/2014/02/14/airpiupdate/" rel="bookmark"
title="Permalink to AirPi Update - A kit!">AirPi Update - A kit!</a></h1>
<div id="socialButtons">
<span><a href="http://twitter.com/share?text=Pi.GATE.ac.uk %20@PiTronics&url=https://pi.gate.ac.uk/posts/2014/02/14/airpiupdate/"
target="_blank" title="Tweet this page"><img src="/theme/images/tweet.png"
height="30" width="30"></a></span>
<span><a href="https://pi.gate.ac.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
title="Syndication feed"><img
height="28" width="28" src="/theme/images/icons/rss-large.jpg"/></a></span>
<span>&nbsp;<a href="/posts/2014/02/14/airpiupdate/#disqus_thread"
title="Leave a comment"><img
src="/theme/images/comment.png" height="30" width="30"></a></span>
<span>&nbsp;<a href="/print/posts/2014/02/14/airpiupdate/"
title="Print"><img
src="/theme/images/print.png" height="30" width="30"></a></span>
</div> </header>
<div class="entry-content">
<footer class="post-info">
<a class="article-thumb" href="/images/articles/airpiupdate.jpg"><img
src="/images/articles/thumbs/airpiupdate.jpg"
height="75" width="75" alt="airpiupdate"></a>
<span class="article-summary"><em>Soldering up an official AirPi kit</em>.</span>
<br/> 
Tags:<span class="tag-list"> <a href="/tag/airpi.html">airpi</a> <a href="/tag/hardware.html">hardware</a> <a href="/tag/pi-tronics.html">pi-tronics</a> <a href="/tag/environmental.html">environmental</a> <a href="/tag/pi.html">pi</a> <a href="/tag/raspberrypi.html">raspberrypi</a> <a href="/tag/gate.html">gate</a>.</span> <br/> <span class="published" title="2014-02-14T00:00:00">Fri 14 February 2014,</span>
<a class="url fn" href="/author/fred-sonnenwald.html">Fred Sonnenwald</a>.
</footer>

<p><a class="cow-non-existant-url" href="/posts/2014/02/07/airpi1/">Last time</a> I introduced everyone to the
<a class="cow-url" href="http://airpi.es/">AirPi</a>, an open environmental sensor platform. They
provide a list of components, schematics, and software for you to build a
rather tiny Pi sized weather station. I went through the process of ordering
the parts and bread-boarding it up before. They also, however, provide
everything in a convenient ready-to-solder kit, which is what I'll be writing
about today.</p>
<p>Hamish went over to Cambridge for
<a class="cow-url" href="https://www.facebook.com/cambridgeraspberryjam">CamJam</a>, the local
RaspberryJam they've got over there. He had the chance to meet with some
interesting folks, including Tom Hartley, one of the AirPi developers. He also
picked up one of those kits so that I had something new to play with while
some data records on my breadboard system.</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/box.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/box.jpg"></a>
<em>Kitbox</em></p>
<p><a class="cow-url" href="/images/environment/airpi1.2/boxcontents.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/boxcontents.jpg"></a>
<em>And all the stuff in it</em></p>
<p>The first thing to know is that this is AirPi v1.2. This isn't what the
directions on the site are currently for. This is a newer hardware revision,
with a slightly different load-out. The primary difference is that the UV sensor
has been replaced with a microphone. I'm not too sure about this change, but it
means that the CA314 op-amp has been replaced with a MCP6283.</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/pcbtop.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/pcbtop.jpg"></a>
<em>PCB top</em></p>
<p><a class="cow-url" href="/images/environment/airpi1.2/pcbbottom.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/pcbbottom.jpg"></a>
<em>PCB bottom</em></p>
<p>You can also see there on the PCB spots for two LEDs (LED1 and LED2). These
aren't new hardware per-say, they just may be new to you. The LEDs are included
in the assembly directions, I simply didn't include them as I didn't feel the
need for more blinking lights on the Pi. It's customisable hardware after
all&mdash;gotta take advantage of that! The AirPi does itself. The kit comes with
the separate MICS-2710 (NO2) and MICS-5525 (CO) sensors, which I couldn't get
for my breadboard.</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/mostlydone.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/mostlydone.jpg"></a>
<em>Just about everything soldered on</em></p>
<p><a class="cow-url" href="/images/environment/airpi1.2/mostlydonebottom.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/mostlydonebottom.jpg"></a>
<em>You can see where the board has melted some</em></p>
<p>This took me about an hour and a half to do. The only thing that's not soldered
yet is the connector for the Pi. I was very involved in actually sorting
everything out though that I forgot to take more pictures of the process. It's
like following a set of LEGO directions so from that point of view it's easy.
The catch is that soldering is sometimes hard. Which, as I've pointed out
above, has led to me melting the board a little in some places, and odd shaped
blobs of solder in others.</p>
<p>You can see on the PCB the empty TGS2600 location, which is fine as it's been
replaced with the MICS sensors. You can also see one resistor of a different
color. That's because somehow, probably sometime between the kit being made and
me getting it, a 330&Omega; resistor was lost. Fortunately my trusty Maplin kit of
resistors saves the day, but I must say that working out which resistor was
which was the hardest part of doing this kit. The colors on the printed card
are hard to distinguish, and it's hard to distinguish them on the resistors
themselves. Impossible on the tiny little ones, like the 100&Omega; and 100K&Omega;.</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/done.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/done.jpg"></a>
<em>Done!</em></p>
<p><a class="cow-url" href="/images/environment/airpi1.2/donebottom.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/donebottom.jpg"></a>
<em>And the reverse</em></p>
<p>Soldering on the Pi connector was interesting. 26 very tightly spaced little
contacts that I soldered from the bottom. That side with a huge chunk of
plastic in the way. Somehow it seemed like a better idea than approaching it
from the top, but I don't know really. I used a GPIO ribbon cable to work out
how much the connector on the bottom needed to stick through.</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/onapi.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/onapi.jpg"></a>
<em>Sticking it on a pi</em></p>
<p><a class="cow-url" href="/images/environment/airpi1.2/onapiside.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/onapiside.jpg"></a>
<em>A pretty compact package</em></p>
<p>After putting the AirPi on top of a Pi, I realised that the placing GPIO header
placing turned out to be near perfect. But due to dumb luck. If I hadn't had
the GPIO ribbon idea, I would have would up having to re-solder it. You can see
how darn near it is to there not being enough clearance. Ouch.</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/onapiside2.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/onapiside2.jpg"></a>
<em>Eeek! That's close!</em></p>
<p>And then to test if it works. It's important to note that the different board
has a different software version to go with it, this time off of the trunk of
the <a class="cow-url" href="https://github.com/tomhartley/AirPi">Git repository</a>. Configuring is
easier this time around though as the software matches the hardware perfectly.
Only two minor configuration changes are necessary. One in sensors.cfg to set
the correct I2C bus. The other in outputs.cfg to disable Xively as I'm only
testing.</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/takingareading.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/takingareading.jpg"></a>
<em>I put it in my half disassembled LEGO case for powering up to test</em></p>
<p>It runs perfectly out of the box! You can see the green LED lighting up on a
reading. Output is shown below. I'm not entirely convinced the temperature is
correct, but everything else is reasonable, I think... At this point I struggle
from the same problem as I did last time, which is I still haven't quite worked
out how to interpret the data. I admit though that this version of the software
is more honest. Calling it Ohms for an analogue sensor reading without
calibration is probably the correct way to go.</p>
<pre>Time: 2014-02-11 20:37:56.611572
Temperature: 32.4 C
Pressure: 977.71 hPa
Relative_Humidity: 25.7000007629 %
Light_Level: 7698.96193772 Ohms
Nitrogen_Dioxide: 7607.57314974 Ohms
Carbon_Monoxide: 301176.470588 Ohms
Volume: 90.3225806452 mV
Uploaded successfully</pre>
<p>I'm not entirely convinced about the utility of the microphone. Maybe an
indirect measure of wind? All told though a pleasant and funkit to build. The
difficulty is about average. Some bits to solder are tricky, but nothing's
impossible, especially if you have some previous experience. This kit has now
been sent off to Lubo, our electronics specialist, for additional compatibility
testing with the MoPi. In the meantime I continue to collect data from my
breadboard prototype to see what I can do with it. Stay tuned for a report!</p>
<p><a class="cow-url" href="/images/environment/airpi1.2/theend.jpg"><img class="cow-img" src="/images/environment/airpi1.2/thumbs/theend.jpg"></a>
<em>The end</em></p>
<br/> <br/>
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'pi-gate'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</article>
</section>
</div>
<div id="emptyMiddleColumn" class="yui3-u-1-24"> 
<section id="extras" class="body">
</section>
</div>
</div>
</div> 

<div id="footer">
<table border="0" align="right"><tbody><tr>
<td style="vertical-align:bottom; text-align:left;">
<span id="footer-home-link"><a href="/">Pi-Tronics from<br/>the GATE people</a></span>
</td>
<td style="vertical-align:bottom; text-align:right;">
<font size="-2">
© Hamish Cunningham and The <a href="https://www.sheffield.ac.uk/">University of Sheffield</a>,
1995-<noscript>2014</noscript><script>document.write(new Date().getFullYear())</script>.<br/>
This website is licenced under the
<a rel="license"
href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike Licence</a>.<br/>
<a href="https://gate.ac.uk/">GATE</a> is <a href="https://www.fsf.org/">free software</a> under
<a href="https://www.gnu.org/licenses/">the GNU licences</a> and
others. All our products and services supplied <b>with no warranty</b>.<br/>
<em>Raspberry Pi</em> and the Raspberry Pi logo are trademarks of the
<a href="http://www.raspberrypi.org/">Raspberry Pi Foundation</a>. <a href="/print/posts/2014/02/14/airpiupdate/index.html">Print</a>.
</font>
</td>
<td style="vertical-align:bottom;"><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img
alt="Creative Commons License" height="31" width="88" style="border-width: 0pt;" src="/theme/images/cc-by-nc-sa.png"></a><br/><br/>
</td>
<td>
<a href="https://www.sheffield.ac.uk/dcs/"><img src="/theme/images/logo-usfd.png"
alt="The University of Sheffield" height="70" width="165"</a>
</td>
</tr>
</tbody></table>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-41812045-1', 'gate.ac.uk');
  ga('send', 'pageview');
</script>
</body>
</html>
